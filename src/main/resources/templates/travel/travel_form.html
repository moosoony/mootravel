<html layout:decorate="~{layout}"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org"
      xmlns:layout="http://www.w3.org/1999/xhtml">
<th:block layout:fragment="script">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
</th:block>

<div layout:fragment="content" class="container mt-10">
    <h5 class="my-3 border-bottom pb-2">게시글 등록</h5>
    <form th:object="${travelForm}" method="post" enctype="multipart/form-data">

        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <div class="alert alert-danger" role="alert" th:if="${#fields.hasAnyErrors()} or ${file}!=null">
            <div th:each="err : ${#fields.allErrors()}" th:text="${err}"/>
            <div th:if="${file}!=null" th:text="${file}"/>
        </div>

<!--        <div class="alert alert-danger" role="alert" th:if="${file}!=null">-->
<!--            <div th:text="${file}"/>-->
<!--        </div>-->

        <div class="mb-3">
            <label th:for="subject" class="form-label">Subject</label>
            <input type="text" th:field="*{subject}" class="form-control">
        </div>
        <div class="mb-3">
            <label th:for="file" class="form-label">썸네일</label>
            <input type="file" name="file" th:field="*{file}" class="form-control" accept="image/png, image/jpeg">
        </div>
        <div class="row">
            <div class="mb-3 col-md-6">
                <label th:for="travelStart" class="form-label">Travel Start</label>
                <input type="date" th:field="*{travelStart}" class="form-control">
            </div>
            <div class="mb-3 col-md-6">
                <label th:for="travelEnd" class="form-label">Travel End</label>
                <input type="date" th:field="*{travelEnd}" class="form-control">
            </div>
        </div>
        <div class="mb-3">
            <label th:for="subject" class="form-label">Travel expenses</label>
            <input type="text" th:field="*{expenses}" class="form-control">
        </div>

        <label th:for="content" class="form-label">Content</label>
        <textarea class="mb-3" id="summernote" th:field="*{content}">
        </textarea>
        <script>
            $('#summernote').summernote({
                placeholder: 'Hello stand alone ui',
                tabsize: 2,
                height: 450,
                focus: true,
                lang: "ko-KR",
                toolbar: [
                    // [groupName, [list of button]]
                    ['fontname', ['fontname']],
                    ['fontsize', ['fontsize']],
                    ['style', ['bold', 'italic', 'underline', 'strikethrough', 'clear']],
                    ['color', ['forecolor', 'color']],
                    ['table', ['table']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['height', ['height']],
                    ['insert', ['picture', 'link', 'video']],
                    ['view', ['fullscreen', 'help']]
                ],

                fontSizes: ['8', '9', '10', '11', '12', '14', '16', '18', '20', '22', '24', '28', '30', '36', '50', '72'],
            });
        </script>
        <input type="submit" value="Submit" class="btn btn-primary my-2">
    </form>
</div>
</html>